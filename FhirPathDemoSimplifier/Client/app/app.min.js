(function(){var n,t;t=null;n=angular.module("app",["ngCookies","ngRoute","ngAnimate","ui.codemirror","firebase"]);n.run(function(){return console.log("run")});n.config(function(n){var t;return t=n,t.when("/",{name:"index",templateUrl:"Client/app/partials/_index.html",controller:"IndexCtrl",reloadOnSearch:!1}),t.otherwise({templateUrl:"Client/app/partials/404.html"})});n.controller("IndexCtrl",function(n,i){var r,u,f;return require(["Client/app/vendor/fhirpath.js/build/bundle.js"],function(i){return t=i,n.update()}),f=new Firebase("https://fhirpath.firebaseio.com/"),n.examples=i(f),r=function(n,t){var r,u;if((n||n.name))return u=new Firebase("https://fhirpath.firebaseio.com/"+n.name),r=i(u),r.$loaded().then(function(){return console.log("loaded",r),r.path=n.path,r.name=n.name,r.resource=n.resource,r.$save().then(function(){return t()})})},n.saveExample=function(){return n.saving="Saving...",r({path:n.path,name:n.exampleName,resource:n.resource},function(){return n.saving=null})},n.path="Patient.name.given |  Patient.name.given",n.resource='{"resourceType": "Patient", "name": [{"given": ["John"]}]}',n.update=function(){var i,r,u;try{r=JSON.parse(n.resource);n.parseError=null}catch(f){i=f;n.parseError=i.toString();return}try{return u=t.evaluate(r,n.path),n.result=JSON.stringify(u,null,"  "),n.errors=null,n.error=null}catch(f){return i=f,i.errors?(n.errors=i.errors,console.log("ERROR",i.errors)):n.error=i.toString()}},n.selectExample=function(t){return n.resource=t.resource,n.path=t.path,n.exampleName=t.name,n.update()},u=window.CodeMirror.normalizeKeyMap({"Ctrl-Space":function(){return n.$apply("doMapping()")},Tab:function(n){return n.replaceSelection("  ")}}),n.codemirrorConfig={lineWrapping:!1,lineNumbers:!0,mode:"javascript",extraKeys:u,viewportMargin:Infinity}})}).call(this);